# Руководство по доступности UI-компонентов

## Фокусные состояния и focus-visible

### Важность фокусных состояний

Фокусные состояния критически важны для пользователей, использующих клавиатуру для навигации по веб-сайту. Они позволяют понять, какой элемент в данный момент активен и получит ввод при нажатии клавиш.

### Реализация focus-visible

#### Что такое focus-visible?

`focus-visible` - это псевдокласс, который активируется только когда элемент получает фокус через клавиатуру, а не через мышь. Это помогает улучшить визуальный вид интерфейса, показывая обводку фокуса только тем пользователям, которые в ней нуждаются.

#### Стандартная реализация для всех интерактивных элементов

Все интерактивные элементы должны включать следующие стили:

```css
.interactive-element {
  /* ... другие стили ... */

  /* Фокусные состояния */
  outline: none; /* Убираем стандартную обводку браузера */

  /* Стили при фокусе клавиатуры */
  &:focus-visible {
    outline: none;
    ring: 2px;
    ring-color: var(--ring-color, theme('colors.primary.DEFAULT'));
    ring-offset: 2px;
  }
}
```

В Tailwind CSS:

```
focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
```

### Чек-лист для проверки компонентов

Убедитесь, что каждый интерактивный элемент:

- [x] Имеет видимое состояние фокуса при навигации с клавиатуры
- [x] Использует консистентные стили фокуса по всему приложению
- [x] Имеет достаточный контраст для фокусной обводки (не менее 3:1)
- [x] Обеспечивает правильный порядок табуляции с помощью корректной структуры HTML или tabindex

### Примеры компонентов с правильной реализацией

#### Кнопка

```tsx
<button
  className="
    bg-primary text-white px-4 py-2 rounded-md
    hover:bg-primary/90
    focus-visible:outline-none 
    focus-visible:ring-2 
    focus-visible:ring-primary 
    focus-visible:ring-offset-2
  "
>
  Кнопка с правильной доступностью
</button>
```

#### Ссылка

```tsx
<Link
  href="/page"
  className="
    text-primary underline
    hover:text-primary/80
    focus-visible:outline-none 
    focus-visible:ring-2 
    focus-visible:ring-primary 
    focus-visible:ring-offset-2
    rounded-sm
  "
>
  Ссылка с поддержкой focus-visible
</Link>
```

### Тестирование фокусных состояний

Для тестирования фокусных состояний:

1. Отключите мышь и используйте только клавиатуру для навигации
2. Нажимайте Tab для перемещения между элементами
3. Убедитесь, что каждый интерактивный элемент имеет четко видимое состояние фокуса
4. Проверьте, что табуляция происходит в логическом порядке

### Дополнительные рекомендации

- Используйте `AccessibleFocus` компонент, если необходимо добавить кастомные фокусные стили
- При создании новых компонентов всегда включайте поддержку focus-visible
- Для сложных кастомных компонентов учитывайте рекомендации WAI-ARIA
